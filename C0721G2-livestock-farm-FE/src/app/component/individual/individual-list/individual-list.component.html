<main class="container-fluid" style="padding-top: 5rem">
  <div class="row">
    <div class="col-md-2 col-sm-12" style="background-color: #009966;">
      <div class="position-sticky ">
        <ul class="text-decoration-none list-group mt-4 mb-4 ">
          <li class="list-unstyled mb-2">
            <a class="text-decoration-none   hvr-sweep-to-right " [routerLink]="['/employee/list']"
            >
              <img src="https://cdn-icons-png.flaticon.com/512/1177/1177568.png"
                   height="20px">
              <span class="text-light">Quản lý nhân viên</span>
            </a>
          </li>
          <li class="list-unstyled mb-2">
            <a class=" text-decoration-none hvr-sweep-to-right pleft0"  [routerLink]="['/individual/list']"
               href="https://getbootstrap.com/docs/5.1/examples/dashboard/#">
              <img src="https://cdn-icons-png.flaticon.com/512/1178/1178215.png"
                   height="20px">
              <span class="text-light">Quản lý đàn</span>
            </a>
          </li>

          <li class="list-unstyled mb-2">
            <a class=" text-decoration-none hvr-sweep-to-right pleft0"
               [routerLink]="['/cages/list']">
              <img src="https://cdn-icons-png.flaticon.com/512/1177/1177455.png"
                   height="20px">
              <span class="text-light">Quản lý chuồng nuôi</span>
            </a>
          </li>
          <li class="list-unstyled mb-2">
            <a class=" text-decoration-none hvr-sweep-to-right pleft0"
               [routerLink]="['/treatement/list']">
              <img src="https://cdn-icons-png.flaticon.com/512/1060/1060673.png"
                   height="20px">
              <span class="text-light">Khám chữa trị</span>
            </a>
          </li>
          <li class="list-unstyled mb-2">
            <a class=" text-decoration-none hvr-sweep-to-right pleft0"
               [routerLink]="['/news/create']">
              <img src="https://cdn-icons-png.flaticon.com/512/1060/1060702.png" height="20px">
              <span class="text-light">Đăng bài</span>
            </a>
          </li>
          <li class="list-unstyled mb-2">
            <a class=" text-decoration-none hvr-sweep-to-right pleft0"
               href="https://getbootstrap.com/docs/5.1/examples/dashboard/#">
              <img src="https://cdn-icons-png.flaticon.com/512/1060/1060668.png" height="20px">

              <span class="text-light">Giao dịch</span>
            </a>
          </li>
          <li class="list-unstyled mb-2">
            <a class="text-decoration-none hvr-sweep-to-right pleft0"
               href="#">
              <img src="https://cdn-icons-png.flaticon.com/512/1060/1060694.png" height="20px">
              <span class="text-light">Lịch làm việc</span>
            </a>
          </li>
          <li class="list-unstyled mb-2">
            <a class="text-decoration-none hvr-sweep-to-right pleft0"
               href="#">
              <img src="https://cdn-icons-png.flaticon.com/512/1060/1060699.png" height="20px">
              <span class="text-light">Hồ sơ biểu mẫu</span>
            </a>
          </li>
          <li class="list-unstyled mb-2">
            <a class=" text-decoration-none hvr-sweep-to-right pleft0"
               href="#">
              <img src="https://cdn-icons-png.flaticon.com/512/1060/1060674.png" height="20px">
              <span class="text-light">Thống kê</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="col-md-10 col-sm-12 px-md-3 py-3 mt-5" style="background-color: #F3F4F8">
      <div class="container ">
        <div class="row pt-2">
          <div class="col-12">
            <div class="card">
              <div class="container ">
                <h1 class="d-flex justify-content-center pt-3 text-success m-4">DANH SÁCH CÁ THỂ</h1>
                <form class="row mt-5 mx-2 " (ngSubmit)="onSubmit()">
                  <div class="col-xxl-2 col-xl-4 col-md-6 mb-3">
                    <div class="input-group m-0">
                      <input type="text" class="form-control " [(ngModel)]="individualId"
                             [ngModelOptions]="{standalone: true}" placeholder="Mã cá thể">
                    </div>
                  </div>
                  <div class="col-xxl-2 col-xl-4 col-md-6 mb-3">
                    <div class="input-group m-0">
                      <input type="text" class="form-control " [(ngModel)]="cageId"
                             [ngModelOptions]="{standalone: true}" placeholder="Mã chuồng">
                    </div>
                  </div>
                  <div class="col-xxl-2 col-xl-4 col-md-6 mb-3">
                    <div class="input-group m-0">
                      <input type="text" class="form-control " [(ngModel)]="dateIn"
                             [ngModelOptions]="{standalone: true}" placeholder="Ngày nhập chuồng"
                             onfocus="(this.type='date')"
                             onblur="(this.type='text')">
                    </div>
                  </div>
                  <div class="col-xxl-2 col-xl-4 col-md-6 mb-3">
                    <div class="input-group m-0">
                      <input type="text" class="form-control " [(ngModel)]="dateOut"
                             [ngModelOptions]="{standalone: true}" placeholder="Ngày xuất chuồng"
                             onfocus="(this.type='date')"
                             onblur="(this.type='text')">
                    </div>
                  </div>
                  <div class="col-xxl-2 col-xl-4 col-md-6 mb-3">
                    <select class="form-select" [(ngModel)]="status" [ngModelOptions]="{standalone: true}"
                            aria-label="Default select example">
                      <option value="">Tình trạng</option>
                      <option value="1">Có bệnh</option>
                      <option value="0">Không có bệnh</option>
                    </select>
                  </div>
                  <div class="col-xxl-2 col-xl-4  col-md-6 mb-3 ">
                    <button type="submit" class="btn btn-secondary">Tìm kiếm
                    </button>
                  </div>
                </form>
                <div class="row mb-3 mt-4">
                  <div class="col-12 text-end">
                    <span class=" fst-italic mx-2" *ngIf="this.message">{{this.message}}</span>
                    <app-individual-create></app-individual-create>
                    <button type="button" class="btn btn-success me-2" (click)="openDialogFile()">Thêm nhiều</button>
                  </div>
                </div>
                <div class="row">
                  <div class="mt-3  table-responsive{-sm|-md|-lg|-xl|-xxl}">
                    <table class="table table-striped table-hover container-fluid">
                      <thead class="text-white bg-success">
                      <tr class=" text-start">
                        <th class=" text-center align-middle " ><a (click)="sort('id')" class="cursor-pointer text-decoration-none text-white">Mã cá thể</a></th>
                        <th class="text-center align-middle">Mã chuồng</th>
                        <th class="text-center align-middle">Loại chuồng</th>
                        <th class="text-center align-middle">Ngày nhập chuồng</th>
                        <th class="text-center align-middle">Ngày xuất chuồng</th>
                        <th class="text-center align-middle">Tình trạng</th>
                        <th class="text-center align-middle">Cân nặng (Kg)</th>
                        <th class="text-center align-middle">Tác vụ</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr *ngFor="let individual of individuals">
                        <td class="align-middle text-center text-break">{{individual.id}}</td>
                        <td class="text-center align-middle text-break ">{{individual.cage.id}}</td>
                        <td class="text-center align-middle text-break ">{{individual.cage.typeOfCage.name}}</td>
                        <td class="text-center align-middle text-break ">{{individual.dateIn}}</td>
                        <td class="text-center align-middle text-break">{{individual.dateOut}}</td>
                        <td class=" align-middle text-break" *ngIf="individual.status == '1' ">Có bệnh</td>
                        <td class=" align-middle text-break" *ngIf="individual.status == '0' ">Không có bệnh</td>
                        <td class="text-center align-middle text-break">{{individual.weight}}</td>
                        <td class="align-middle text-center">
                          <app-individual-edit [currentId]="individual.id"></app-individual-edit>
                          <button class="btn btn-danger text-white mx-1" (click)="openDialogDelete(individual.id)"><i
                            class="fas fa-trash-alt"></i> Xóa
                          </button>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="">
                    <ul class="d-flex pagination pagination-sm justify-content-end " style="margin:20px 0">
                      <div *ngIf="this.page >0 then previous"></div>
                      <ng-template #previous>
                        <li class="page-item">
                          <button class="page-link bg-success" style="; color: white" (click)="previousClick()">Trước
                            đó
                          </button>
                        </li>
                      </ng-template>
                      <li class="page-item">
                        <input class="page-link" type="number" value="1" min="1" [max]="totalPages"
                               placeholder="{{totalPages}}" aria-label="Username" [value]="page + 1"
                               (change)="findPagination($event.target.value)">
                      </li>
                      <li class="page-item ">
                        <span class="input-group-text page-link">{{page + 1}}/{{totalPages}}</span>
                      </li>
                      <div *ngIf="this.page  < this.totalPages-1 then next "></div>
                      <ng-template #next>
                        <li class="page-item">
                          <button class="page-link bg-success" style="color: white" (click)="nextClick()">Tiếp
                            theo
                          </button>
                        </li>
                      </ng-template>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

